
#include <iostream>
#include <stdlib.h>
using namespace std;

struct node {
    int data;
    struct node *next;
} *head = NULL, *ptr, *newnode;


//Count number of elements in LL
int countNodes() {
    int c = 0;
    ptr = head;
    while (ptr != NULL) {
        c++;
        ptr = ptr->next;
    }
    return c;
}


//Insert At Begin 
void insertAtBegin() {
    int item;
    cout << "\nEnter data to insert at beginning: ";
    cin >> item;

    newnode = (struct node*)malloc(sizeof(struct node));
    newnode->data = item;
    newnode->next = head;
    head = newnode;

    cout << "\nNode inserted at beginning.";
}


//Delete from begin 
void deleteFromBegin() {
    if (head == NULL) {
        cout << "\nList is empty!";
        return;
    }

    ptr = head;
    head = head->next;
    free(ptr);

    cout << "\nNode deleted from beginning.";
}


//Display Linked List 
void displayList() {
    if (head == NULL) {
        cout << "\nList is empty!";
        return;
    }
    cout << "\nLinked List: ";
    ptr = head;
    while (ptr != NULL) {
        cout << ptr->data << " -> ";
        ptr = ptr->next;
    }
    cout << "NULL";
}

// Insert at last
void insertAtEnd() {
    int item;	
    cout << "\nEnter data to insert at end: ";
    cin >> item;

    newnode = (struct node*)malloc(sizeof(struct node));
    newnode->data = item;
    newnode->next = NULL;

    if (head == NULL) {
        head = newnode;
    } else {
        ptr = head;
        while (ptr->next != NULL) {
            ptr = ptr->next;
        }
        ptr->next = newnode;
    }

    cout << "\nNode inserted at end.";
}

//Delete from the end
void deleteFromEnd() {
    if (head == NULL) {
        cout << "\nList is empty!";
        return;	
    }

    if (head->next == NULL) {
        free(head);
        head = NULL;
        cout << "\nNode deleted from end.";
        return;
    }

    ptr = head;
    while (ptr->next != NULL) {
        pre = ptr;
        ptr = ptr->next;
    }
    pre->next = NULL;
    free(ptr);
    cout << "\nNode deleted from end.";
}

// Search element in linked list
void searchElement() {
    if (head == NULL) {
        cout << "\nList is empty!";
        return;
    }

    int key, pos = 1;
    cout << "\nEnter element to search: ";
    cin >> key;

    ptr = head;
    while (ptr != NULL) {
        if (ptr->data == key) {
            cout << "\nElement found at position " << pos;
            return;
        }
        ptr = ptr->next;
        pos++;
    }
    cout << "\nElement not found!";
}


int main() {
    int choice;

    do {
        cout << "\n\n--- Singly Linked List Menu ---";
        cout << "\n1. Insert at Beginning";
        cout << "\n2. Delete from Beginning";
        cout << "\n3. Display Linked List";
        cout << "\n4. Count Elements in Linked List";
        cout << "\n5. Exit";
        cout << "\nEnter your choice: ";
        cin >> choice;

        switch(choice) {
            case 1:
                insertAtBegin();
                break;
            case 2:
                deleteFromBegin();
                break;
            case 3:
                displayList();
                break;
            case 4:
                cout << "\nNumber of nodes: " << countNodes();
                break;
            case 5:
                cout << "\nExiting program...";
                break;
            default:
                cout << "\nInvalid choice!";
        }
    } while (choice != 5);

    return 0;
}
